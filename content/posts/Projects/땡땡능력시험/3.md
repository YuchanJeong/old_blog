---
title: "[ë•¡ë•¡ëŠ¥ë ¥ì‹œí—˜] Styled-components ì„¤ì • ë° í—¤ë”â€¢í‘¸í„°"
date: 2022-08-30
categories:
  - <Projects>
tags:
  - "'ë•¡ë•¡ëŠ¥ë ¥ì‹œí—˜'"
  - (Devlog)
---

![á„’á…¦á„ƒá…¥á„‹á…ª á„‘á…®á„á…¥](https://user-images.githubusercontent.com/84524514/187695726-1a87d530-2e68-4042-b605-b4d75b6efc08.gif)

[PR] - https://github.com/YuchanJeong/ddangddang-avility-test/pull/3

## Styled-components ì„¤ì •

### ì„¤ì¹˜

```bash
npm i styled-components styled-normalize
npm i -D @types/styled-components
```

### í…Œë§ˆ ìŠ¤íƒ€ì¼

styles/theme.ts

- ìœ ì§€ ë³´ìˆ˜ì„±ì„ ìœ„í•´ í…Œë§ˆë³„ ìŠ¤íƒ€ì¼ì˜ ê°’ë“¤ì„ ë¯¸ë¦¬ ì§€ì •

```ts
//# ì‚¬ì´ì¦ˆ
export const size = {
  sm: ".5rem",
  md: "1rem",
  lg: "2rem",
  xl: "3rem",
};

//# í°íŠ¸
export const fonts = {
  family: {
    san_serif: "sans-serif",
    serif: "serif",
  },
  size: {
    sm: "1.4rem",
    md: "1.6rem",
    lg: "2rem",
    xl: "2.5rem",
    xxl: "3rem",
    title: "6rem",
  },
  weight: {
    light: 100,
    normal: 400,
    bold: 700,
  },
};

//# ë¯¸ë””ì–´ ì¿¼ë¦¬ (ë¶€íŠ¸ìŠ¤íŠ¸ë© ê¸°ì¤€)
const mediaSize = {
  mobile: "576px",
  tablet: "768px",
  laptop: "992px",
};

export const device = {
  mobile: `@media only screen and (max-width: ${mediaSize.mobile})`,
  tablet: `@media only screen and (max-width: ${mediaSize.tablet})`,
  laptop: `@media only screen and (max-width: ${mediaSize.laptop})`,
};

//# ìƒ‰ìƒ
const colors = {
  accent: "#7F00FF",
};

export const lightThemeColors = {
  ...colors,
  text: "#222120",
  primary: "#FAFAFA",
};

const darkThemeColors = {
  ...colors,
  text: "#FAFAFA",
  primary: "#222120",
};

//# ê³µí†µ ìŠ¤íƒ€ì¼ ëª¨ìŒ
const defaultStyle = {
  size,
  fonts,
  device,
};

//# ê° í…Œë§ˆ
export const lightTheme = {
  ...defaultStyle,
  colors: lightThemeColors,
};

export const darkTheme = {
  ...defaultStyle,
  colors: darkThemeColors,
};

//# ê¸°ë³¸ í…Œë§ˆ
declare module "styled-components" {
  export interface DefaultTheme {
    size: typeof size;
    fonts: typeof fonts;
    device: typeof device;
    colors: typeof lightThemeColors;
  }
}
```

### ê³µìš© ìŠ¤íƒ€ì¼

styles/GlobalStyle.tsx

- normalizeë¡œ ë¸Œë¼ìš°ì €ë³„ë¡œ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ í†µì¼ [[ì°¸ì¡°]](https://necolas.github.io/normalize.css/latest/normalize.css)

```ts
import { createGlobalStyle, css } from "styled-components";
import { normalize } from "styled-normalize";

const GlobalStyle = createGlobalStyle`
  ${normalize} //> ì°¸ì¡°: https://necolas.github.io/normalize.css/latest/normalize.css
  
  * {
    box-sizing: border-box;
  } 

  html {
    font-size: 62.5%; //> 1rem = 10px;  
  }
  
  ${({ theme }) => {
    return css`
      body {
        font-family: ${theme.fonts.family.san_serif};
        font-weight: ${theme.fonts.weight.normal};
        font-size: ${theme.fonts.size.md};
      }
    `;
  }}
`;

export default GlobalStyle;
```

### í…Œë§ˆ ë° ê³µìš© ìŠ¤íƒ€ì¼ ì ìš©

pages/\_app.tsx

- `ThemeProvider`ë¡œ í…Œë§ˆ ì „ì—­ ê³µê¸‰
- `GlobalStyle`ë¡œ ê³µìš© ìŠ¤íƒ€ì¼ ì ìš©

```ts
import type { AppProps } from "next/app";
import Head from "next/head";
import { ThemeProvider } from "styled-components";

import GlobalStyle from "../styles/GlobalStyle";
import { darkTheme, lightTheme } from "../styles/theme";

function MyApp({ Component, pageProps }: AppProps) {
  return (
    <>
      <Head>
        <title>ë•¡ë•¡ëŠ¥ë ¥ì‹œí—˜</title>
      </Head>
      <ThemeProvider theme={isDarkMode ? darkTheme : lightTheme}>
        <GlobalStyle />
        <Component {...pageProps} />;
      </ThemeProvider>
    </>
  );
}

export default MyApp;
```

## className ì—ëŸ¬ ğŸ

[Issue] - https://github.com/YuchanJeong/ddangddang-avility-test/issues/2

**\# ë¬¸ì œ**

â€œProp `className` did not match.â€ ì—ëŸ¬ ë°œìƒ

<img width="800" alt="Prop `className` did not match." src="https://user-images.githubusercontent.com/84524514/187668860-f36a6a4d-e7ad-483c-804b-d3e3d712f484.png">

**\# í•´ê²°**

`babel-plugin-styled-components`ë¡œ í™˜ê²½ê³¼ ìƒê´€ì—†ì´ ì¼ê´€ëœ classNameì„ ìƒì„±

```bash
npm i -D babel-plugin-styled-components
```

`.babelrc` ì‘ì„±

```json
{
  "presets": ["next/babel"],
  "plugins": ["babel-plugin-styled-components"]
}
```

[[ì°¸ì¡°]](https://blog.shift.moe/2021/01/02/prop-classname-did-not-match/) - Prop `className` did not match

## ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í…Œë§ˆ ìƒíƒœ ê´€ë¦¬ Hook

hooks/useThemeInLocalStorage.ts

- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¡œ í…Œë§ˆ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¤ìŠ¤í…€ í›…
- ìˆ˜í™” ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ê¸° ìœ„í•´ Dependencyê°€ ë¹ˆ ë°°ì—´ì¸ useEffect ì‚¬ìš© (`typeof window === "undefined"` ì‚¬ìš© ì‹œ ë¬¸ì œ ë°œìƒ)

```ts
import { useEffect, useState } from "react";

/**
 * \# ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¡œ í…Œë§ˆ ìƒíƒœ ê´€ë¦¬
 * @returns \{ `isDarkMode`: ë‹¤í¬ ëª¨ë“œ ì—¬ë¶€, `toggleTheme`: í…Œë§ˆ ì „í™˜ í•¨ìˆ˜ }
 */
export const useThemeInLocalStorage = () => {
  const [isDarkMode, setIsDarkMode] = useState<boolean>(false);

  //> ìˆ˜í™” ë¶ˆì¼ì¹˜ ë¬¸ì œ ì˜ˆë°© (typeof window === "undefined" ì‚¬ìš© ì‹œ ë¬¸ì œ ë°œìƒ)
  useEffect(() => {
    setIsDarkMode(localStorage.getItem("isDarkMode") === "true" ? true : false);
  }, []);

  const toggleTheme = () => {
    setIsDarkMode((prevState) => {
      localStorage.setItem("isDarkMode", `${!prevState}`);
      return !prevState;
    });
  };

  return { isDarkMode, toggleTheme };
};
```

## ê¸°ë³¸ ìŠ¤íƒ€ì¼

components/atoms/`BasicStyles.tsx` & `BasicStyles.d.ts`

- ìì£¼ ì‚¬ìš©í•˜ê²Œ ë  ìŠ¤íƒ€ì¼ë“¤ì„ ë¯¸ë¦¬ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¦
- Flex-boxëŠ” propsë¡œ ì†ì„±ì„ ë³€í˜•ì‹œí‚¬ ìˆ˜ ìˆê²Œ ë§Œë“¦

Ps. ìµœì†Œ ë„“ì´ëŠ” ìµœì†Œí˜• íœ´ëŒ€í° Apple iPhone SEë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ì • [[ì°¸ì¡°]](https://wisesilver.tistory.com/20)

```tsx
import styled from "styled-components";

import { IFlexBox } from "./BasicStyles.d";

/** \# ìµœëŒ€ ë„“ì´ 1200px, ìµœì†Œ ë„“ì´ 320pxì¸ ê°€ë¡œ ê°€ìš´ë° ì •ë ¬ëœ ê³µê°„ */
export const InnerBox = styled.div`
  width: 1200px; //> ìµœëŒ€ ë„“ì´
  max-width: 100%; //> 1200px ì´í•˜ì¼ ë•Œ
  margin: 0 auto; //> ê°€ë¡œ ê°€ìš´ë° ì •ë ¬
  position: relative;
  min-width: 320px;
`;

/**
 * \# Flex-box
 * @param justifyContent ? `"center"(def) | "flex-start" | "flex-end" | "space-between" | "space-around";`
 * @param alignItems ? `ã€ƒ`
 * @param isFlexColumn ? `false(def) | true`
 * @param isFlexWrap ? `false(def) | true;`
 * @param gap ? `"0"(def) | "px" | "rem" | "%"`
 */
export const FlexBox = styled.div<IFlexBox>`
  display: flex;
  justify-content: ${({ justifyContent }) => justifyContent || "center"};
  align-items: ${({ alignItems }) => alignItems || "center"};
  flex-direction: ${({ isFlexColumn }) => (isFlexColumn ? "column" : "row")};
  flex-wrap: ${({ isFlexWrap }) => (isFlexWrap ? "wrap" : "nowrap")};
  gap: ${({ gap }) => gap || "0"};
`;

/** \# Bold, í¬ì¸í„°, ìŠ¤í¬ë¡¤ ë°©ì§€ (ê¸°ë³¸ ë²„íŠ¼ ì†ì„±) */
export const Btn = styled.div`
  font-weight: ${({ theme }) => theme.fonts.weight.bold};
  cursor: pointer;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
`;
```

components/atoms/`Btns.tsx`

```ts
//# Flex-box ì •ë ¬ íƒ€ì…
type TFlexArrangement =
  | "flex-start"
  | "flex-end"
  | "center"
  | "space-between"
  | "space-around";

/** \# Flex-box íƒ€ì… */
export interface IFlexBox {
  justifyContent?: TFlexArrangement;
  alignItems?: TFlexArrangement;
  isFlexColumn?: boolean;
  isFlexWrap?: boolean;
  gap?: string;
}
```

```tsx
import styled from "styled-components";

import { Btn } from "./BasicStyles";

/** \# hover ì‹œ ë°‘ì¤„ì´ ì³ì§€ëŠ” ë²„íŠ¼ */
export const UnderlineBtn = styled(Btn)`
  &:hover {
    text-decoration: underline ${({ theme }) => theme.colors.accent};
  }
`;

/** \# hover ì‹œ ìƒ‰ìƒì´ ê°•ì¡°ë˜ëŠ” ë²„íŠ¼ */
export const AccentBtn = styled(Btn)`
  &:hover {
    color: ${({ theme }) => theme.colors.accent};
  }
`;
```

## Header

components/header/`Header.tsx` & `Header.style.tsx`

- ì¤‘ë³µë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ìŒì„ ë‚´ë¶€ì—ì„œ ë¬¶ì–´ì„œ ì‚¬ìš© (e.g. Menus)
- Styled-componentëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ì‘ì„±ë˜ë©´ ì•ˆë¨â—ï¸

```tsx
import { useRouter } from "next/router";
import { useState } from "react";
import { FaSun, FaMoon, FaHamburger } from "react-icons/fa";

import { InnerBox } from "../common/atoms/BasicStyles";
import { AccentBtn } from "../common/atoms/Btns";
import {
  BtnMenuMobile,
  FlexBoxHeader,
  FlexBoxMenus,
  FlexBoxMenusMobile,
  UnderlineBtnMenu,
  UnderlineBtnTitle,
} from "./Header.style";

interface IHeaderProps {
  isDarkMode: boolean;
  toggleTheme: () => void;
}

/**
 * \# í—¤ë”
 * @param isDarkMode `boolean;` ë‹¤í¬ ëª¨ë“œ ì—¬ë¶€
 * @param toggleTheme `() => void;` í…Œë§ˆ ë³€ê²½ í•¨ìˆ˜
 */
export function Header(props: IHeaderProps) {
  //# í…Œë§ˆ ì „í™˜
  const [isMobileMenuOn, setIsMobileMenuOn] = useState<boolean>(false);
  const toggleMenu = () => {
    setIsMobileMenuOn((prevState) => !prevState);
  };

  //# ë¼ìš°íŒ…
  const router = useRouter();
  const goToMain = () => {
    router.push("/");
  };

  const goToTag = () => {
    router.push("/tag");
  };

  const goToCreate = () => {
    router.push("/create");
  };

  //# ë©”ë‰´ ëª¨ìŒ
  const Menus = () => (
    <>
      <UnderlineBtnMenu onClick={goToTag}>íƒœê·¸</UnderlineBtnMenu>
      <UnderlineBtnMenu onClick={goToCreate}>ì‹œí—˜ ë§Œë“¤ê¸°</UnderlineBtnMenu>
      <AccentBtn onClick={props.toggleTheme}>
        {props.isDarkMode ? <FaSun /> : <FaMoon />}
      </AccentBtn>
    </>
  );

  return (
    <InnerBox>
      <FlexBoxHeader>
        <UnderlineBtnTitle onClick={goToMain}>ë•¡ë•¡ëŠ¥ë ¥ì‹œí—˜</UnderlineBtnTitle>
        <FlexBoxMenus>
          <Menus />
        </FlexBoxMenus>
        <BtnMenuMobile isMobileMenuOn={isMobileMenuOn} onClick={toggleMenu}>
          <FaHamburger />
        </BtnMenuMobile>
      </FlexBoxHeader>
      {isMobileMenuOn ? (
        <FlexBoxMenusMobile>
          <Menus />
        </FlexBoxMenusMobile>
      ) : null}
    </InnerBox>
  );
}
```

```tsx
import styled from "styled-components";

import { FlexBox, Btn } from "../common/atoms/BasicStyles";
import { UnderlineBtn } from "../common/atoms/Btns";

/** \# Flex-box / ì–‘ë ì •ë ¬ */
export const FlexBoxHeader = styled(FlexBox)`
  justify-content: space-between;
  padding: ${({ theme }) => theme.size.lg};
  height: 7rem;
`;

/** \# Flex-box / ë°˜ì‘í˜•(ëª¨ë°”ì¼ ì œì™¸) */
export const FlexBoxMenus = styled(FlexBox)`
  gap: ${({ theme }) => theme.size.lg};

  ${({ theme }) => theme.device.mobile} {
    display: none;
  }
`;

/** \# Flex-box / ì„¸ë¡œ ë°°ì¹˜ / ë°˜ì‘í˜•(ëª¨ë°”ì¼) */
export const FlexBoxMenusMobile = styled(FlexBox)`
  flex-direction: column;
  gap: ${({ theme }) => theme.size.xl};
  text-align: right;
  display: none;
  & > * {
    margin: ${({ theme }) => theme.size.lg};
    &:first-child {
      margin-top: 0;
    }
  }

  ${({ theme }) => theme.device.mobile} {
    display: block;
  }
`;

/** \# hover ì‹œ ë°‘ì¤„ì´ ì³ì§€ëŠ” ë²„íŠ¼ / ì„¸ë¦¬í”„ */
export const UnderlineBtnTitle = styled(UnderlineBtn)`
  font-family: ${({ theme }) => theme.fonts.family.serif};
  font-size: ${({ theme }) => theme.fonts.size.xxl};
`;

/** \# hover ì‹œ ë°‘ì¤„ì´ ì³ì§€ëŠ” ë²„íŠ¼ */
export const UnderlineBtnMenu = styled(UnderlineBtn)`
  font-size: ${({ theme }) => theme.fonts.size.lg};
`;

/** \# isMobileMenuOn ì‹œ ìƒ‰ìƒì´ ê°•ì¡°ë˜ëŠ” ë²„íŠ¼ / ë°˜ì‘í˜•(ëª¨ë°”ì¼) */
export const BtnMenuMobile = styled(Btn)<{ isMobileMenuOn: boolean }>`
  color: ${({ theme, isMobileMenuOn }) =>
    isMobileMenuOn ? theme.colors.accent : theme.colors.text};
  font-size: ${({ theme }) => theme.fonts.size.xl};
  display: none;

  ${({ theme }) => theme.device.mobile} {
    display: block;
  }
`;
```
