---
title: "BC-15w-2 / [배포] Amazon Web Service"
date: 2022-01-05
categories:
  - "'Bootcamp'"
tags:
  - AWS
---

### 1) Cloud Computing

- 데이터 센터에서는 서버의 자원과 공간, 및 네트워크 환경을 제공(on-premise)
- 클라우드 컴퓨팅은 가상화 기술의 발전으로부터 비롯
- 운영 환경 자체가 클라우드 제공자에게 종속되어 버리므로, 클라우드 서비스에 문제가 생기면 내가 배포하고 관리하는 환경에도 영향이 미치거나 백엔드 구성 자체가 특정 회사의 기술로만 구성해야만 하는 경우가 발생할 수도 있는 단점이 있음
- 클라우드 서비스의 형태
  1. SaaS(Software as a Service)
     - 클라우드 제공자가 당장 사용 가능한 소프트웨어를 제공하는 경우 대부분 SaaS에 해당
  2. PaaS(Platform as a Service)
     - 클라우드 제공자가 데이터베이스, 개발 플랫폼까지 제공하는 경우 대부분 PaaS에 해당
  3. IaaS(Infrastructure as a Service)
     - 클라우드 제공자가 가상 컴퓨터까지 제공하는 경우 대부분 IaaS에 해당
       \*AWS는 IaaS에 가까움

### 2) Deploy

1. Development 단계
   - 각자의 컴퓨터에서 코드를 작성하고 테스트하는 과정
   - 개발 단계이기 때문에 실제 데이터를 이용하지 않고 더미 데이터를 이용해서 테스트
2. Integration 단계
   - 각자의 컴퓨터에서 작성한 코드를 합치는 과정
   - 내가 작성한 코드가 다른 코드를 침범해서 오류를 일으키지 않는지, 코드 간에 conflict가 있지는 않은지 확인하는 과정
3. Staging 단계
   - 실제 출시 단계인 Production 단계와 가장 유사한 환경에서 테스트하는 과정
   - 실제 데이터를 복사해서 문제가 있지 않은지 등 다양한 환경에서 테스트를 진행
   - 또한 서비스와 관련된 부서 혹은 인원의 확인 과정을 거침
4. Production 단계
   - 개발된 서비스를 출시하는 단계
   - 사용자가 접속할 수 있는 Production 환경에서 코드를 구동하고 서비스를 제공
   - 실제 데이터를 가지고 서비스가 운영되기 때문에 문제가 생기면 안 되는 단계

- 환경 설정을 코드와 분리하는 것이 중요
  - 절대경로 대신 상대경로 사용
  - 환경에 따라 포트를 분기할 수 있도록 환경 변수를 설정(.env)
  - Docker와 같은 개발 환경 자체를 통일시키는 솔루션을 사용

### 3) EC2(Elastic Compute Cloud)

- AWS에서 원격으로 제어할 수 있는 가상의 컴퓨터를 한 대 빌리는 것
- 사용한 만큼 비용을 지불
- 인스턴스는 1대의 컴퓨터를 의미하는 단위이고 AWS에서 컴퓨터를 빌리는 것을 인스턴스를 생성한다고 함
- AMI(Amazon Machine Image)는 소프트웨어 구성이 기재된 템플릿
- 장점
  - 구성하는 데 필요한 시간이 짧다
  - AMI를 통해서 필요한 용도에 따라 다양한 운영체제에 대한 선택이 가능
  - CPU와 RAM, 용량까지도 손쉽게 구성

### 4) RDS(Relational Database Service)

- AWS에서 제공하는 관계형 데이터베이스 서비스
- RDS를 이용하면 데이터베이스 유지 보수와 관련된 일들을 RDS에서 전적으로 자동 관리
- 다양한 데이터베이스 엔진 선택지를 제공

### 5) S3(Simple Storage Service)

- AWS에서 제공하는 클라우드 스토리지 서비스
- 높은 확장성
- 강력한 내구성
- 높은 가용성 보장
  - 가용 영역(Availability Zone)이란 각 리전(Region) 안에 존재하는 데이터 센터(IDC)
- 다양한 스토리지 클래스를 제공
  1. "Standard"
     - 데이터에 빠른 속도로 접근할 수 있고, 데이터 액세스 요청에 대한 처리 속도가 빠름
     - 데이터를 오래 보관하는 목적으로는 비효율적 bcs 높은 보관 비용
  2. "Glacier"
     - 저장된 데이터에 액세스하는 속도는 느리지만, 데이터를 보관하는 비용이 매우 저렴
- 정적 웹 사이트 호스팅이 가능
  - 버킷이 사용자들이 정적 웹 사이트를 배포할 수 있는 공간을 제공
- 버킷
  - S3에 저장되는 파일들이 담기는 바구니(파일을 저장하는 최상위 디렉터리)
  - 버킷의 이름은 버킷이 속해 있는 리전(버킷이 생성된 지역)에서 유일해야 함
  - 버킷 정책을 생성하여 해당 버킷에 대한 다른 유저의 접근 권한을 수정할 수 있음
  - 버킷에 저장되는 객체는 파일과 메타데이터로 구성
  - 파일의 값에는 실제 데이터를 저장하며, 최대 크기는 5TB
  - 메타데이터는 객체에 대한 정보가 담긴 데이터
  - 모든 객체는 고유한 URL 주소를 가지고 있음
    - http://[버킷의 이름].S3.amazonaws.com/[객체의 키]

### 6) Deploy Strategy

- 클라이언트 앱을 정적 파일로 빌드하여 제공 즉, S3를 이용해서 클라이언트를 배포
- 빌드
  - 불필요한 데이터를 없애고, 여러 갈래로 퍼져있는 데이터들을 통합/ 압축하여 배포하기에 최적화된 상태를 만듬
  - 빌드 과정을 진행하기 전과 비교했을 때 데이터의 용량이 줄어들고, 웹 사이트의 로딩 속도가 빨라진다는 장점이 생김
  - 일반적인 의미의 빌드는, 소스코드를 실행 가능한 번들로 변환하는 컴파일 과정을 의미
- AWS에서 제공하는 CDN 서비스인 "CloudFront"를 통해서 각지의 데이터 센터에 데이터를 분산시켜서 저장해 뒀다가 가까운 지역에서 데이터를 주는 방식으로 사용자에게 더 빠르게 서비스를 제공
- AWS에서 제공하는 "Route 53" 서비스를 이용하면 직관적인 도메인 주소를 통해서 서비스에 접근하도록 할 수 있음
